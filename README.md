# Bellabeat-Casestudy

# 1.INTRODUCTION
Bellabeat, a high-tech company that manufactures health-focused smart products for Women.
Bellabeat develop wearables and accompanying products that monitor biometric and lifestyle 
data to help women better understand how their bodies work and make healthier choices.

# 2.ASK
## Business Task
 The aim of this project is to analyze smart device usage data in order to gain insight into how consumers use non-Bellabeat smart
devices. with this information we are to provide high-level recommendations for how these trends can inform Bellabeat marketing strategy. 

  1. What are some trends in smart device usage?
  2. How could these trends apply to Bellabeat customers?
  3. How could these trends help influence Bellabeat marketing strategy?
    
## Stakeholders    
Primary stakeholders: Urška Sršen and Sando Mur, executive team members.

Secondary stakeholders: Bellabeat marketing analytics team.

# 3.PREPARE
Dataset used in this analysis is the FitBit Fitness Tracker Data (CC0: Public Domain). It is made available on kaggle through Mobius.
 
The dataset has 18 CSV. The data also follow a ROCCC approach:
    
Reliability: The data is from 30 FitBit users who consented to the submission of personal tracker data and generated by from a distributed survey via Amazon Mechanical Turk.

Original: The data is from 30 FitBit users who consented to the submission of personal tracker data via Amazon Mechanical Turk.

Comprehensive: Data minute-level output for physical activity, heart rate, and sleep monitoring. While the data tracks many factors in the user activity and sleep, but the sample size is small and most data is recorded during certain days of the week.

Current: Data is from April 2016 to May 2016. Data is not current so the users habit may be differ now.

Cited: Cited but NOT credible. The data came from Amazon Mechanical Turk, so it could be a reliable source or it could not.
  
# 4. PROCESS
  Data processing is done in R programmig and RStudio.

## Install libraries
```
  install.packages("tidyverse")
  library(tidyverse)
  install.packages("janitor")
  library(janitor)
  library (tidyr)
  library(ggplot2)
  library(dplyr)
  install.packages("ggpubr")
  library(ggpubr)
  ```
  
## Import datasets
  ```
  daily_activity <- read.csv(file.choose("dailyActivity_merged.csv"))
  sleep_info <- read.csv(file.choose("sleepDay_merged.csv"))
  weight_info <- read.csv(file.choose("weightLogInfo_merged.csv"))
  heartbeat_info <- read.csv(file.choose("heartrate_seconds_merged.csv"))
  hourly_steps <- read.csv(file.choose("hourlySteps_merged.csv"))
  hourly_intensity <- read.csv(file.choose("hourlyintensities.csv"))
  ```
  
## Preview the datasets
```
  head(daily_activity)
  head(sleep_info,3)
  head(weight_info,3)
  head(hourly_steps,3)
  head(hourly_intensity,3)
  head(heartbeat_info,3)
```
  
![image](https://user-images.githubusercontent.com/107685839/178681637-581623ac-8950-4c44-84c7-09e9280cadce.png)

![image](https://user-images.githubusercontent.com/107685839/178683821-899d2905-3944-41e2-b9b3-ad5fe2fcbf28.png)

![image](https://user-images.githubusercontent.com/107685839/178683988-aeb2160d-9882-48b5-80a6-24f2c227dec5.png)

![image](https://user-images.githubusercontent.com/107685839/178684501-2541e440-9bde-4373-b431-0937f543acff.png)

![image](https://user-images.githubusercontent.com/107685839/178684647-b46ea50f-02ac-4dfb-b701-494c58aa627a.png)

![image](https://user-images.githubusercontent.com/107685839/178684752-0f16a7c1-bd9a-45e5-8580-bde841226e67.png)


## Number of rows in each table
```
  nrow(daily_activity)
  nrow(sleep_info)
  nrow(weight_info)
  nrow(hourly_steps)
  nrow(hourly_intensity)
  nrow(heartbeat_info)
```

![image](https://user-images.githubusercontent.com/107685839/178684977-402bceb0-f9be-49d2-b6c5-ebb9f59dd6fe.png)

## Cleaning the column names
```
  daily_activity <- clean_names(daily_activity)
  sleep_info <- clean_names(sleep_info)
  weight_info <- clean_names(weight_info)
  heartbeat_info <- clean_names(heartbeat_info)
  hourly_steps <- clean_names(hourly_steps)
  hourly_intensity <- clean_names(hourly_intensity)
```
```
  colnames(daily_activity)
  colnames(sleep_info)
  colnames(weight_info)
  colnames(hourly_steps)
  colnames(hourly_intensity)
  colnames(heartbeat_info)
  ```
  
 ![image](https://user-images.githubusercontent.com/107685839/178688114-9cc402fb-f5c6-4395-800f-77ae34bceba1.png)

## Number of distinct users
 ```
  n_distinct(daily_activity$id)
  n_distinct(sleep_info$id)
  n_distinct(weight_info$id)
  n_distinct(hourly_steps$id)
  n_distinct(hourly_intensity$id)
  n_distinct(heartbeat_info$id)
 ```
 
  ![image](https://user-images.githubusercontent.com/107685839/178687521-0e70f440-8186-4988-b417-0420a8d16d07.png)

### Here, we can see there are 33 distinct user in daily_activity, hourly_steps and hourly_intensity table.In sleep_info there are 24 distinct users,8 in weight_info and 14 in heartbeat_info.

## Check for duplicates
```
  sum(duplicated(daily_activity))
  sum(duplicated(sleep_info))
  sum(duplicated(weight_info))
  sum(duplicated(hourly_steps))
  sum(duplicated(hourly_intensity))
  sum(duplicated(heartbeat_info))
```

  ![image](https://user-images.githubusercontent.com/107685839/178688462-eaed8900-b8e1-4a5d-91bf-c38521b998ac.png)
  
## Remove duplicates if any.
```
sleep_info <- sleep_info %>%
  distinct() %>%
  drop_na()
  sum(duplicated(sleep_info))
 ``` 
![image](https://user-images.githubusercontent.com/107685839/178688674-8d388937-f0a3-42a2-92fb-e50426b2a933.png)

## Renaming the column names
  ```
  daily_activity <- daily_activity %>%
  rename(date = activity_date)
   colnames(daily_activity)
  ```
  ![image](https://user-images.githubusercontent.com/107685839/178689596-42037943-7b6c-4c41-b2eb-51c7189e4c5b.png)
```
  hourly_steps <- hourly_steps %>%
  rename(date = activity_hour)
   colnames(hourly_steps)
```  
  ![image](https://user-images.githubusercontent.com/107685839/178689903-1acbe399-e3a6-471b-9028-02761c6d042d.png)

```
hourly_intensity <- hourly_intensity %>%
rename(date = activity_hour)
  colnames(hourly_intensity) 
```  
  ![image](https://user-images.githubusercontent.com/107685839/178690351-c66c1845-723c-4c01-b18c-ac7eaf941465.png)
```
  heartbeat_info <- heartbeat_info %>%
  rename (date = time)
   colnames(heartbeat_info)
```  
  ![image](https://user-images.githubusercontent.com/107685839/178691010-1c992092-0fbe-4305-baa6-d4e3c60c7da5.png)

## Separating the date and time column
 ``` 
  hourly_intensity <- hourly_intensity %>%
    separate(date, into = c("date", "time"), sep =' ')
  head(hourly_intensity,3)
 ``` 
  ![image](https://user-images.githubusercontent.com/107685839/178692721-0546fed8-ed95-4af4-bade-c1a7205e9cf2.png)
```
  sleep_info <- sleep_info
    separate(sleep_day,into = c("date","time"), sep =" ")
  head(sleep_info,3)
  ```
  ![image](https://user-images.githubusercontent.com/107685839/178694879-e7d6d055-7d4a-417f-a69f-da1e2f3a385c.png)
```
  hourly_steps <- hourly_steps %>%
    separate(date, into = c("date","time"), sep = ' ')
  head(hourly_steps,3)
  ```
  ![image](https://user-images.githubusercontent.com/107685839/178693595-2cbf5e05-ec2f-4fd2-801c-f910e3001ec3.png)
```
  weight_info <- weight_info  %>%
    separate(weight_info, Date, into = c("Date","Time"), sep = " ")
  head(weight_info,3)
```  
  ![image](https://user-images.githubusercontent.com/107685839/178694328-4650eefc-998a-440f-8e60-f0d85572d8b9.png)

```  
  heartbeat_info <- heartbeat_info %>%
    separate(date, into = c("date", "time"), sep = ' ')
  head(heartbeat_info,3)  
```  
  ![image](https://user-images.githubusercontent.com/107685839/178696074-6b19a78e-b67d-4889-9caf-fbcd93194799.png)
  
  
## Adding weekday coloumn  
 ``` 
  daily_activity <- daily_activity %>% mutate( Weekday = weekdays(as.Date(date, "%m/%d/%Y")))
  head(daily_activity,3)
 ``` 
  ![image](https://user-images.githubusercontent.com/107685839/178706903-2f123211-79e4-4e7f-86e7-d18e7e943ada.png)
```
  sleep_info <- sleep_info %>% mutate( Weekday = weekdays(as.Date(date, "%m/%d/%Y")))
  head(sleep_info,3)
```  
  ![image](https://user-images.githubusercontent.com/107685839/178707253-4dbbcf9c-86ae-4f54-af5f-9ea2532dbd15.png)

 ``` 
  weight_info <- weight_info %>% mutate( Weekday = weekdays(as.Date(date, "%m/%d/%Y")))
  head(weight_info,3)
 ``` 
  ![image](https://user-images.githubusercontent.com/107685839/178707418-81ca8999-62e1-4a02-9294-7792e6e9b337.png)
 
# 5.ANALYZE and VISUALIZATION  
 
## Active usage of smart watch by the customers based on the step taken everyday.
#### * Low Use - 1 to 14 days o
#### * Moderate Use - 15 to 21 days
#### * High Use - 22 to 31 days

```
daily_user <- daily_activity %>%
  filter(total_steps >200 ) %>% 
  group_by(id) %>%
  summarize(activity_date=sum(n())) %>%
  mutate(Usage = case_when(
    activity_date >= 1 & activity_date <= 14 ~ "Low Use",
    activity_date >= 15 & activity_date <= 21 ~ "Moderate Use", 
    activity_date >= 22 & activity_date <= 31 ~ "High Use")) %>% 
  mutate(Usage = factor(Usage, level = c('Low Use','Moderate Use','High Use'))) %>% 
  rename(daysused = activity_date) %>% 
  group_by(Usage)
  head(daily_user)
```
![image](https://user-images.githubusercontent.com/107685839/178711616-731700e9-55e6-401b-9b56-1a7261aec3ca.png)
 ### There are 33 users in total, 24 high usage, 7 moderate and 2 low.
```
daily_use_percent <- daily_activity %>% 
  left_join(daily_user, by = 'id') %>%
  group_by(Usage) %>% 
  summarise(participants = n_distinct(id)) %>% 
  mutate(perc = participants/sum(participants)) %>% 
  arrange(perc) %>% 
  mutate(perc = scales::percent(perc))
head(daily_use_percent)
```
![image](https://user-images.githubusercontent.com/107685839/178711759-47d659d6-84b1-45f7-82ab-054701ae21a2.png)

## To plot the pie
```
ggplot(daily_use_percent,aes(fill=Usage ,y = participants, x="")) +
  geom_bar(stat="identity", width=1, color="white") +
  coord_polar("y", start=0)+
  scale_fill_brewer(palette='Pastel1')+
  theme_void()+
  theme(axis.title.x= element_blank(),
        axis.title.y = element_blank(),
        panel.border = element_blank(), 
        panel.grid = element_blank(), 
        axis.ticks = element_blank(),
        axis.text.x = element_blank(),
        plot.title = element_text(hjust = 0.5,vjust= -5, size = 20, face = "bold")) +
  geom_text(aes(label = perc, x=1.2),position = position_stack(vjust = 0.5))+
  labs(title="Usage Group Distribution")+
  guides(fill = guide_legend(title = "Usage Type"))
options(repr.plot.width = 1, repr.plot.height = 1)
```
![image](https://user-images.githubusercontent.com/107685839/178711903-2af5472b-8c2a-4120-a29f-b91844bd5147.png)

## Total calories burned by each ID
 ``` 
  daily_activity %>%
    group_by(id) %>% drop_na() %>%
    summarize(total_calories = sum(calories)) %>%
    arrange(-total_calories)
 ```   
   ![image](https://user-images.githubusercontent.com/107685839/178707668-4f3b1119-75de-499e-9439-2b185bcd3510.png)

```  
  daily_activity %>%  
    select(total_steps, total_distance, sedentary_minutes,very_active_minutes, lightly_active_minutes, calories) %>%
    summary()
 ```   
   ![image](https://user-images.githubusercontent.com/107685839/178707819-0e573db0-0a2e-4ff3-a4fa-b2db86f0fcd7.png)
   ### Here, we can see the average calorie burned by 33 users is 2304 

## Average sleep of each ID  
```
Avg_sleep <- sleep_info %>%
    group_by(id) %>% drop_na() %>%
    summarise(avg_sleep = mean(total_minutes_asleep))
 head(Avg_sleep)
``` 
![image](https://user-images.githubusercontent.com/107685839/178708109-0e7b96ff-d177-47de-939e-d7d456cb3e28.png)

## Average total sleep 
 ```
 sleep_info %>%
   summarise(av_sleep = mean(total_minutes_asleep))
 ```  
   ![image](https://user-images.githubusercontent.com/107685839/178710514-032f589c-0921-4bf7-a2c4-6c3f720cb0f9.png)
### Average sleep is 419.173 which is 6.9 hrs

## Average total steps
 ```
 daily_activity %>%
    summarise(avg_total_steps = mean(total_steps))
```    
   ![image](https://user-images.githubusercontent.com/107685839/178710811-d58cc6b8-4424-434f-845e-7a8ef9cc6371.png)
### Average total steps by 33 users is 7638

## Weight information
  ```
  weight_info %>%
  summary()
```  
![image](https://user-images.githubusercontent.com/107685839/178711007-2642aa5f-05bf-4554-98b1-ec9917128ad9.png)
### Average weight is 72kg
  
## Heart rate information
```
heartbeat_info %>%
  group_by(id) %>%
  summarise(Avg_heartrate = mean(value))
```
```
heartbeat_info %>%
  summary()
```  
  ![image](https://user-images.githubusercontent.com/107685839/178711281-2f00301e-1f34-4471-8bd4-930359be21d2.png)
 ### Mean heart rate is 77.36, min heart rate is 36.00 and max heart rate is 203.00


## Total steps Vs. total calories burned
```
ggplot(data = daily_activity,aes(x= total_steps, y = calories))+
  geom_point()+
  geom_smooth()+ 
  labs(title = "Relationship betwween Calories Burned vs Total steps",subtitle = "Correlation between Calories vs steps",
                       x="Total Steps", y="Calories Burned")
 ```                      
  ![image](https://user-images.githubusercontent.com/107685839/178712124-29cba66c-0e0c-4962-824e-0e53c3b67d91.png)
   ### The chart shows - More steps you take more calories you will burn. 

## Total steps vs. sedentary minutes
```
ggplot(data=daily_activity,aes(x=total_steps,y=sedentary_minutes))+geom_point(color="green")+
  labs(title = " Sedentary minutes vs. Total steps")
```  
 ![image](https://user-images.githubusercontent.com/107685839/178712920-809f0641-59e5-4e5f-9edc-52d14dce52b9.png)
### It shows a negative relationship between total steps taken and the minutes someone has remained sedentary.

## Sedentary minutes vs. weekday
```
ggplot(data=daily_activity, aes(x= weekday, y= sedentary_minutes )) + geom_histogram(stat = "identity", fill='pink') +
  theme(axis.text.x = element_text(angle = 90)) +
  labs(title="Sedentary minutes in a week")
```  
  ![image](https://user-images.githubusercontent.com/107685839/178714531-478d759e-efeb-48f1-a424-b417e4bf99b5.png)
### Users spent less sedentary minutes on weekends!!

## The relationship between total minutes asleep and total minutes in bed
```
ggplot(data=sleep_info,aes(x=total_minutes_asleep,y=total_time_in_bed))+
  geom_point()+
  geom_smooth(color='red') + labs(title="Total Minutes Asleep vs. Total Time In Bed")
```  
  ![image](https://user-images.githubusercontent.com/107685839/178714847-5cd9682b-a413-4a88-9b0a-629543951753.png)
### It has a positive relationship

## Merging daily_activity and sleep_info
```
merge_activity_sleep <- merge(daily_activity, sleep_info, by=c('id','date','weekday'))
```

## total mins asleep vs total_steps taken
```
 ggplot(data=merge_activity_sleep,aes(x= total_steps,y= total_minutes_asleep))+
  geom_jitter(color = "blue")+
  geom_smooth(color = "black")+
  labs(title="Minutes asleep Vs. Total steps")
```  
  ![image](https://user-images.githubusercontent.com/107685839/178715937-6ad52989-1ecd-4d7b-9475-251fe2a07743.png)

## Total sleep and Total steps in a week
```
daily_activity_sleep <- merge_activity_sleep %>%
  group_by(weekday) %>%
  summarize (daily_steps = mean(total_steps), daily_sleep = mean(total_minutes_asleep)) %>%
  arrange(daily_steps)
View(daily_activity_sleep)
```
![image](https://user-images.githubusercontent.com/107685839/178716415-789eb097-7126-4bdf-bddb-1d5fab344b90.png)

## Daily steps per Weekday
```
ggplot(data = daily_activity_sleep, aes(x = weekday, y = daily_steps))+ 
  geom_col(fill = "light blue")+
  labs(title="Daily steps per Weekday")
```  
![image](https://user-images.githubusercontent.com/107685839/178717875-6e0085b4-5b8d-42a0-90ea-28474b0dafc0.png)
### Saturday is the most active day.

## Minutes asleep per Weekday
```
ggplot (data = daily_activity_sleep, aes(x = weekday, y = daily_sleep))+ 
  geom_col(fill = "light green")+
  labs(title= "Minutes asleep per Weekday")
```  
  ![image](https://user-images.githubusercontent.com/107685839/178717337-bc056815-ca55-43f5-b4b1-6b5fa745971e.png)
### Fun fact!! Sunday is the laziest day.  

## Hourly intensity in a day
```
intensity <- hourly_intensity %>%
  group_by(time) %>%
  drop_na() %>%
  summarise(mean_total_intensity = mean(total_intensity))

ggplot(data=intensity, aes(x=time, y=mean_total_intensity)) + geom_histogram(stat = "identity", fill='violet') +
  theme(axis.text.x = element_text(angle = 90)) +
  labs(title="Average Total Intensity vs. Time")
```  
  ![image](https://user-images.githubusercontent.com/107685839/178718776-e10d8ea4-7753-4216-b6c2-382cfdc4ae12.png)

## Hourly step in a day
```
Steps <= hourly_steps %>%
   group_by(time) %>%
   drop_na() %>%
   summarise(mean_total_steps = mean(step_total))
 
ggplot(data=Steps, aes(x=time, y=mean_total_steps)) + geom_histogram(stat = "identity", fill='orange') +
  theme(axis.text.x = element_text(angle = 90)) +
  labs(title="Average Total Step vs. Time")
```  
  ![image](https://user-images.githubusercontent.com/107685839/178719117-18372a3e-7e52-403a-9aa3-79b10bb737f0.png)
  
### The above graphs show that people are most active during evening between 6-8 pm when they have taken the most no of steps in a day

# 6.CONCLUSION 
 From this analysis we know, that more steps will result in more calorie burn. Saturday is the most active day, while Sunday is the laziest. 
 Evenings are the most active time of the day.
 Average sleep is 420mins (7 hours) which is the recommended hours of sleep per day for adults (age group - 18 to 60)).
 The data showed 33 total users, out of which 24 unique IDs used the sleep tracking function, 
 14 unique IDs used heart-rate tracking and 8 unique IDs used their devices to track their weight. 
 The analysis would be more accurate if all 33 users used all functions of the device.
 Insights on women's health and wellness were not represented in this study, which is a
 crucial insight for bellabeat as it is a women-centric company.
 Also, the data set is very small and does not include information such as gender, age, location, 
 weather conditions, menstrual cycle, etc. 
 Bellabeat's marketing team can concentrate on functions, like menstrual cycle
 which focuses on women's reproductive health.
 
# THANK YOU
  
  

